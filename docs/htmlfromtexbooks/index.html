<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lib (htmlfromtexbooks@f84d28fcbfc4.Htmlfromtexbooks.Lib)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">htmlfromtexbooks@f84d28fcbfc4</a> &#x00BB; <a href="../index.html">Htmlfromtexbooks</a> &#x00BB; Lib</nav><header class="odoc-preamble"><h1>Module <code><span>Htmlfromtexbooks.Lib</span></code></h1><p>Library used for the project</p><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Charlotte Thomas</li></ul></header><div class="odoc-content"><p>Type declaration and aliases useful</p><div class="odoc-spec"><div class="spec type" id="type-chapter" class="anchored"><a href="#type-chapter" class="anchor"></a><code><span><span class="keyword">type</span> chapter</span><span> = </span></code><table><tr id="type-chapter.Nil" class="anchored"><td class="def variant constructor"><a href="#type-chapter.Nil" class="anchor"></a><code><span>| </span><span><span class="constructor">Nil</span></span></code></td></tr><tr id="type-chapter.Chap" class="anchored"><td class="def variant constructor"><a href="#type-chapter.Chap" class="anchor"></a><code><span>| </span><span><span class="constructor">Chap</span> <span class="keyword">of</span> string * string * <span>string list</span> * int</span></code></td></tr></table></div><div class="spec-doc"><p>Chapter type : A chapter is Nil Or A tuple of a string (name), a string (the chapter text) a string list (the lines of chapter text) and an integer (the number of the chapter)</p></div></div><div class="odoc-spec"><div class="spec type" id="type-glossary" class="anchored"><a href="#type-glossary" class="anchor"></a><code><span><span class="keyword">type</span> glossary</span><span> = </span></code><table><tr id="type-glossary.Nul" class="anchored"><td class="def variant constructor"><a href="#type-glossary.Nul" class="anchor"></a><code><span>| </span><span><span class="constructor">Nul</span></span></code></td></tr><tr id="type-glossary.Entry" class="anchored"><td class="def variant constructor"><a href="#type-glossary.Entry" class="anchor"></a><code><span>| </span><span><span class="constructor">Entry</span> <span class="keyword">of</span> string * string * string</span></code></td></tr></table></div><div class="spec-doc"><p>Glossary type : It can be a Nil or an &quot;Entry&quot; : a tuple of a string (the key), a string (the name) and a string (the definition)</p></div></div><div class="odoc-spec"><div class="spec type" id="type-book" class="anchored"><a href="#type-book" class="anchor"></a><code><span><span class="keyword">type</span> book</span><span> = <span><a href="#type-chapter">chapter</a> list</span></span></code></div><div class="spec-doc"><p>Alias : a book is a list of chapters</p></div></div><p>Utility</p><div class="odoc-spec"><div class="spec value" id="val-string_to_list" class="anchored"><a href="#val-string_to_list" class="anchor"></a><code><span><span class="keyword">val</span> string_to_list : <span><span class="xref-unresolved">Stdlib</span>.String.t <span class="arrow">&#45;&gt;</span></span> <span>char list</span></span></code></div><div class="spec-doc"><p>Transform a string to a list of character</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">s</span> <p>the string to transform</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-glossaries" class="anchored"><a href="#val-glossaries" class="anchor"></a><code><span><span class="keyword">val</span> glossaries : <span><span>( string, string * string )</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.t</span></span></code></div><div class="spec-doc"><p>The Hashtbl with the (name,defition) of glossaries by their key</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print_chapter" class="anchored"><a href="#val-print_chapter" class="anchor"></a><code><span><span class="keyword">val</span> print_chapter : <span><a href="#type-chapter">chapter</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>A little function to print a chapter</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_file" class="anchored"><a href="#val-read_file" class="anchor"></a><code><span><span class="keyword">val</span> read_file : <span>?joining:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>A function reading the inputed file and outputs a string of the lines separated by a line break \n</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">filename</span> <p>the file to read</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-glossary_exists" class="anchored"><a href="#val-glossary_exists" class="anchor"></a><code><span><span class="keyword">val</span> glossary_exists : <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Alias for Sys.file_exists</p></div></div><div class="odoc-spec"><div class="spec value" id="val-glossary_provided" class="anchored"><a href="#val-glossary_provided" class="anchor"></a><code><span><span class="keyword">val</span> glossary_provided : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns true if the length of the glossary is greater than 0 and false otherwise</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write_to_file" class="anchored"><a href="#val-write_to_file" class="anchor"></a><code><span><span class="keyword">val</span> write_to_file : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Write a string in a file</p></div></div><p>Book functions</p><div class="odoc-spec"><div class="spec value" id="val-parse_book" class="anchored"><a href="#val-parse_book" class="anchor"></a><code><span><span class="keyword">val</span> parse_book : <span>?book:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Parse a string into a list of string representing chapters (book) or section (article)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-transform_list_of_chars_to_string_without_the_newline" class="anchored"><a href="#val-transform_list_of_chars_to_string_without_the_newline" class="anchor"></a><code><span><span class="keyword">val</span> transform_list_of_chars_to_string_without_the_newline : <span><span>char list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns a string from a char list, ignoring the lines break</p></div></div><div class="odoc-spec"><div class="spec value" id="val-extract_chapter" class="anchored"><a href="#val-extract_chapter" class="anchor"></a><code><span><span class="keyword">val</span> extract_chapter : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-chapter">chapter</a></span></code></div><div class="spec-doc"><p>Creating a chapter object from a string and the number of the chapter</p></div></div><div class="odoc-spec"><div class="spec value" id="val-extract_chapters" class="anchored"><a href="#val-extract_chapters" class="anchor"></a><code><span><span class="keyword">val</span> extract_chapters : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-chapter">chapter</a> list</span></span></code></div><div class="spec-doc"><p>Reads a file, Parses the book and returns a list of chapters with the extract_chapter function</p></div></div><div class="odoc-spec"><div class="spec value" id="val-recognize_gls" class="anchored"><a href="#val-recognize_gls" class="anchor"></a><code><span><span class="keyword">val</span> recognize_gls : <span><span>char list</span> <span class="arrow">&#45;&gt;</span></span> <span>(string * string)</span> * string * <span>char list</span></span></code></div><div class="spec-doc"><p>takes the char list and returns the (name,description) of the given glossary entry and the remaining of the list</p></div></div><div class="odoc-spec"><div class="spec value" id="val-replace_generalities" class="anchored"><a href="#val-replace_generalities" class="anchor"></a><code><span><span class="keyword">val</span> replace_generalities : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Replaces the common found structure in a TeX file</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parse_more_than_generalities" class="anchored"><a href="#val-parse_more_than_generalities" class="anchor"></a><code><span><span class="keyword">val</span> parse_more_than_generalities : <span><span class="xref-unresolved">Stdlib</span>.String.t <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Parse more complex command : \textit, \textbf and \gls</p></div></div><div class="odoc-spec"><div class="spec value" id="val-transform_chapter" class="anchored"><a href="#val-transform_chapter" class="anchor"></a><code><span><span class="keyword">val</span> transform_chapter : <span><a href="#type-chapter">chapter</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-chapter">chapter</a></span></code></div><div class="spec-doc"><p>Transform a chapter with the functions replace_generalities and replace_more_than_generalities</p></div></div><div class="odoc-spec"><div class="spec value" id="val-chapter_to_string" class="anchored"><a href="#val-chapter_to_string" class="anchor"></a><code><span><span class="keyword">val</span> chapter_to_string : <span><a href="#type-chapter">chapter</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>prints a chapter</p></div></div><div class="odoc-spec"><div class="spec value" id="val-not_is_empty" class="anchored"><a href="#val-not_is_empty" class="anchor"></a><code><span><span class="keyword">val</span> not_is_empty : <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>returns false if a string is empty or a newline</p></div></div><p>Glossary functions</p><div class="odoc-spec"><div class="spec value" id="val-parse_glossary_entry" class="anchored"><a href="#val-parse_glossary_entry" class="anchor"></a><code><span><span class="keyword">val</span> parse_glossary_entry : <span><span class="xref-unresolved">Stdlib</span>.String.t <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Reads an entry, extract the description, name and definition, and adds it to the Hashtbl</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parse_glossaries" class="anchored"><a href="#val-parse_glossaries" class="anchor"></a><code><span><span class="keyword">val</span> parse_glossaries : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Takes a glossary file and parse it in a list of string</p></div></div><div class="odoc-spec"><div class="spec value" id="val-total_glossaries" class="anchored"><a href="#val-total_glossaries" class="anchor"></a><code><span><span class="keyword">val</span> total_glossaries : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Combines parse_glosaries and parse_glossary_entry</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prints_glossary" class="anchored"><a href="#val-prints_glossary" class="anchor"></a><code><span><span class="keyword">val</span> prints_glossary : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Transform the glossary to an HTML file</p></div></div><p>Writing book function</p><div class="odoc-spec"><div class="spec value" id="val-print_table_of_content" class="anchored"><a href="#val-print_table_of_content" class="anchor"></a><code><span><span class="keyword">val</span> print_table_of_content : <span><span><a href="#type-chapter">chapter</a> list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Generate the table of content HTML</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prepare_body" class="anchored"><a href="#val-prepare_body" class="anchor"></a><code><span><span class="keyword">val</span> prepare_body : <span>?name:string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-chapter">chapter</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Prepare the body for the content</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write_core_chapter_to_file" class="anchored"><a href="#val-write_core_chapter_to_file" class="anchor"></a><code><span><span class="keyword">val</span> write_core_chapter_to_file : <span><a href="#type-chapter">chapter</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Write single chapter in an HML file</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write_book" class="anchored"><a href="#val-write_book" class="anchor"></a><code><span><span class="keyword">val</span> write_book : <span>?name:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-chapter">chapter</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Write the book in an HTML file</p></div></div></div></body></html>